<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Klerno Labs â€” Access</title>
  <style>
    :root{
      --bg:#060913; --ink:#eaf0ff; --muted:#9fb0d3;
      --accent:#7b6cff; --accent-2:#00e1ff;
      --glass:rgba(255,255,255,0.06); --stroke:rgba(255,255,255,0.12);
      --blur:14px;
      --danger:#ff6b6b;
      --ok:#22c55e;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";
         color:var(--ink); background:var(--bg); overflow:hidden}

    /* background */
    canvas#bg{position:fixed; inset:0; width:100%; height:100%; display:block; z-index:0}
    .vignette{position:fixed; inset:0; z-index:1; pointer-events:none;
      background:radial-gradient(1200px 600px at 70% 20%,transparent 0%,rgba(0,0,0,.35) 70%,rgba(0,0,0,.7) 100%);
      mix-blend-mode:multiply}

    /* layout */
    .wrap{position:relative; z-index:2; min-height:100%; display:grid; place-items:center; padding:24px}
    .stack{width:100%; max-width:640px; display:grid; gap:22px}

    /* card */
    .card{
      background:var(--glass); border:1px solid var(--stroke); border-radius:20px;
      backdrop-filter:blur(var(--blur)); -webkit-backdrop-filter:blur(var(--blur));
      padding:28px; box-shadow:0 10px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
    }

    /* brand card */
    .brand-card{ text-align:center; padding:34px 28px }
    .brand-title{
      margin:0; font-weight:800; letter-spacing:-.02em;
      font-size:clamp(40px,7vw,80px); line-height:1.05;
      background:linear-gradient(90deg,#eaf0ff,#a7f3ff 40%,#c7b8ff 80%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .brand-sub{ margin-top:8px; color:var(--muted); font-size:clamp(13px,1.6vw,16px) }

    /* form */
    h2{margin:6px 0 6px; font-size:clamp(22px,3.5vw,30px); letter-spacing:-.01em}
    p.lead{margin:0 0 16px; color:var(--muted)}
    .form{display:grid; gap:14px; margin-top:6px}
    label{color:var(--muted); font-size:14px}
    input[type="password"], input[type="text"]{
      width:100%; padding:14px 16px; border-radius:12px;
      border:1px solid var(--stroke); background:rgba(255,255,255,.06); color:var(--ink);
      outline:none;
    }
    .row{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:16px 24px; border-radius:14px; border:1px solid var(--stroke);
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#020617; font-weight:700; text-decoration:none; cursor:pointer;
      transition:transform .12s ease, filter .12s ease;
    }
    .btn:hover{ transform:translateY(-1px); filter:brightness(1.05) }

    .muted{color:var(--muted); font-size:13px; text-align:center}
    .error{
      margin-top:4px; padding:10px 12px; border-radius:10px;
      border:1px solid rgba(255,107,107,.35); background:rgba(255,107,107,.08);
      color:#ffd6d6; font-size:14px;
    }

    footer{position:fixed; left:0; right:0; bottom:10px; z-index:2; display:grid; place-items:center; color:var(--muted); font-size:12px; opacity:.8}
  </style>
</head>
<body>
  <canvas id="bg"></canvas>
  <div class="vignette"></div>

  <div class="wrap">
    <div class="stack">
      <!-- Brand header -->
      <section class="card brand-card">
        <h1 class="brand-title">Klerno Labs</h1>
        <div class="brand-sub">Secure access to the in-app dashboard</div>
      </section>

      <!-- Paywall form -->
      <section class="card">
        <h2>Enter access code</h2>
        <p class="lead">Use the code you received after subscribing to unlock the app.</p>

        {% if error %}
          <div class="error">That code didnâ€™t match. Please try again.</div>
        {% endif %}

        <form class="form" action="/paywall/verify" method="post" autocomplete="off">
          <div>
            <label for="code">Access code</label>
            <input id="code" name="code" type="password" placeholder="Enter your code" required />
          </div>

          <div class="row">
            <button class="btn" type="submit">ðŸš€ Continue to app</button>
          </div>

          <div class="muted">
            Donâ€™t have a code yet? <a href="/" style="color:#bfe2ff; text-decoration:none">Back to home</a>
          </div>
        </form>
      </section>
    </div>
  </div>

  <footer>Â© <span id="yr"></span> Klerno Labs â€” All rights reserved</footer>

  <script>
    // particles background (same as landing)
    const c = document.getElementById('bg'), ctx = c.getContext('2d');
    let W,H,DPR=Math.min(window.devicePixelRatio||1,2), P=[];
    const rnd=n=>Math.random()*n;
    function resize(){
      W=c.width=Math.floor(innerWidth*DPR); H=c.height=Math.floor(innerHeight*DPR);
      c.style.width=innerWidth+'px'; c.style.height=innerHeight+'px';
      const n=Math.floor((W*H)/(90_000*DPR));
      P=Array.from({length:n},()=>({x:rnd(W),y:rnd(H),vx:(rnd(1)-.5)*.35,vy:(rnd(1)-.5)*.35}));
    }
    function step(){
      ctx.clearRect(0,0,W,H);
      const g=ctx.createLinearGradient(0,0,W,H);
      g.addColorStop(0,'rgba(123,108,255,.10)'); g.addColorStop(.5,'rgba(0,225,255,.08)'); g.addColorStop(1,'rgba(255,255,255,.05)');
      ctx.fillStyle=g; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='rgba(255,255,255,.45)';
      for(const p of P){
        p.x+=p.vx; p.y+=p.vy; if(p.x<0||p.x>W)p.vx*=-1; if(p.y<0||p.y>H)p.vy*=-1;
        ctx.beginPath(); ctx.arc(p.x,p.y,1.3*DPR,0,Math.PI*2); ctx.fill();
      }
      ctx.strokeStyle='rgba(200,220,255,.11)';
      for(let i=0;i<P.length;i++){
        const a=P[i];
        for(let j=i+1;j<P.length;j++){
          const b=P[j],dx=a.x-b.x,dy=a.y-b.y,d2=dx*dx+dy*dy;
          if(d2<18000*DPR){
            ctx.globalAlpha=1-d2/(18000*DPR);
            ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
          }
        }
      }
      ctx.globalAlpha=1; requestAnimationFrame(step);
    }
    resize(); requestAnimationFrame(step); addEventListener('resize', resize);
    document.getElementById('yr').textContent = new Date().getFullYear();
  </script>
</body>
</html>

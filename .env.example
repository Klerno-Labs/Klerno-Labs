# ==============================================================================
# Klerno Labs - Environment Template (copy to .env and edit)
# Do NOT commit .env with real secrets.
# ==============================================================================

# --- App / Runtime ---
APP_ENV=development                 # development | production
PORT=8000                           # Render sets PORT automatically; local only
WORKERS=1
DEMO_MODE=true
DEBUG=true

# --- Secrets ---
# Strong secret in prod: python -c "import secrets; print(secrets.token_urlsafe(48))"
SECRET_KEY=dev-secret-key-change-me
# If your code expects JWT_SECRET, set both (or derive in config.py)
JWT_SECRET=dev-jwt-secret-change-me
ACCESS_TOKEN_EXPIRE_MINUTES=60

# --- Admin bootstrap (optional for local dev) ---
ADMIN_EMAIL=admin@klerno.dev
BOOTSTRAP_ADMIN_EMAIL=admin@klerno.dev
BOOTSTRAP_ADMIN_PASSWORD=ChangeMe123!

# --- Cookies / Session (VALID values only) ---
SESSION_COOKIE_NAME=session
COOKIE_SECURE=auto                  # auto | true | false
COOKIE_SAMESITE=lax                 # lax | strict | none
ENABLE_HSTS=true                    # enable HSTS (on HTTPS only)
FORCE_HTTPS=false                   # set true on Render with HTTPS

# --- API Access ---
API_KEY=dev-api-key
X_API_KEY=
RISK_THRESHOLD=0.75

# --- Database ---
# Local dev (sqlite)
DATABASE_URL=sqlite:///./data/klerno.db
DB_PATH=./data/klerno.db
# Prod example (uncomment & set real creds)
# DATABASE_URL=postgresql://username:password@host:5432/klerno_db?sslmode=require

# --- Cache / Queue (optional) ---
REDIS_URL=

# --- XRPL / Integrations (crypto-only subscriptions/fees) ---
XRPL_RPC_URL=wss://xrplcluster.com/   # or wss://s2.ripple.com for public
XRPL_NET=mainnet
DESTINATION_WALLET=                   # your XRPL address to receive fees
SUB_PRICE_XRP=5
SUB_DURATION_DAYS=30

# --- Email / Notifications (optional) ---
SENDGRID_API_KEY=
SENDGRID_FROM=alerts@example.com
SENDGRID_NAME=Klerno Labs
ALERT_EMAIL_FROM=alerts@example.com
ALERT_EMAIL_TO=you@example.com
SLACK_WEBHOOK_URL=

# --- Monitoring / Observability (optional) ---
PROMETHEUS_METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30
SENTRY_DSN=

# --- Security / Rate limiting (optional) ---
ENABLE_RATE_LIMITING=true
AUDIT_LOG_LEVEL=INFO
AUDIT_LOG_RETENTION_DAYS=365
ENABLE_SECURITY_HEADERS=true
ENABLE_CSRF_PROTECTION=true
LOG_FAILED_AUTH_ATTEMPTS=true

# Content Security Policy (tweak as needed)
CSP_SCRIPT_SRC='self' 'unsafe-inline' https://cdn.jsdelivr.net
CSP_STYLE_SRC='self' 'unsafe-inline' https://cdn.jsdelivr.net
CSP_IMG_SRC='self' data: https:
CSP_CONNECT_SRC='self' ws: wss:

# --- Dev / Testing ---
DEV_SKIP_AUTH=false
DEV_MOCK_PAYMENTS=false
TEST_DATABASE_URL=sqlite:///./test.db

# --- Stripe (NOT USED: crypto-only). Keep blank or remove. ---
STRIPE_SECRET_KEY=
STRIPE_PRICE_ID=
STRIPE_WEBHOOK_SECRET=
